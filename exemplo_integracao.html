<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Almoxarifado HECA - Exemplo de Integra√ß√£o</title>
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- jsPDF e AutoTable -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.31/jspdf.plugin.autotable.min.js"></script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }
        
        h1 {
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 2.5rem;
        }
        
        .subtitle {
            color: #7f8c8d;
            margin-bottom: 30px;
            font-size: 1.1rem;
        }
        
        .section {
            margin-bottom: 40px;
            padding: 30px;
            background: #f8f9fa;
            border-radius: 15px;
            border-left: 5px solid #667eea;
        }
        
        .section h2 {
            color: #667eea;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            color: #2c3e50;
            font-weight: 600;
        }
        
        input, select, textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1rem;
            transition: all 0.3s;
        }
        
        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
        
        .btn {
            padding: 12px 30px;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);
        }
        
        .btn-success {
            background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
            color: white;
        }
        
        .btn-success:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(17, 153, 142, 0.3);
        }
        
        .btn-danger {
            background: linear-gradient(135deg, #eb3349 0%, #f45c43 100%);
            color: white;
        }
        
        .btn-sm {
            padding: 8px 16px;
            font-size: 0.9rem;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            background: white;
            border-radius: 10px;
            overflow: hidden;
        }
        
        thead {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        
        th, td {
            padding: 15px;
            text-align: left;
        }
        
        tbody tr {
            border-bottom: 1px solid #e0e0e0;
            transition: all 0.3s;
        }
        
        tbody tr:hover {
            background: #f8f9fa;
        }
        
        .alert {
            padding: 15px 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .alert-info {
            background: #e3f2fd;
            color: #1976d2;
            border-left: 4px solid #1976d2;
        }
        
        .alert-success {
            background: #e8f5e9;
            color: #388e3c;
            border-left: 4px solid #388e3c;
        }
        
        .alert-warning {
            background: #fff3e0;
            color: #f57c00;
            border-left: 4px solid #f57c00;
        }
        
        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }
        
        .card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        
        .card h3 {
            color: #667eea;
            margin-bottom: 15px;
        }
        
        code {
            background: #2c3e50;
            color: #ecf0f1;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
        }
        
        .file-structure {
            background: #2c3e50;
            color: #ecf0f1;
            padding: 20px;
            border-radius: 10px;
            font-family: 'Courier New', monospace;
            line-height: 1.8;
        }
        
        .file-structure .folder {
            color: #f39c12;
        }
        
        .file-structure .file {
            color: #3498db;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1><i class="fas fa-warehouse"></i> Sistema de Almoxarifado HECA</h1>
        <p class="subtitle">Exemplo de Integra√ß√£o Completa - Vers√£o Atualizada</p>
        
        <!-- Se√ß√£o 1: Informa√ß√µes -->
        <div class="section">
            <h2><i class="fas fa-info-circle"></i> Informa√ß√µes Importantes</h2>
            
            <div class="alert alert-success">
                <i class="fas fa-check-circle fa-2x"></i>
                <div>
                    <strong>C√≥digo Atualizado com Sucesso!</strong><br>
                    O sistema foi atualizado com PDF profissional e corre√ß√£o de sa√≠da de materiais.
                </div>
            </div>
            
            <div class="grid">
                <div class="card">
                    <h3><i class="fas fa-file-pdf"></i> PDF Melhorado</h3>
                    <ul style="line-height: 2;">
                        <li>‚úÖ Design profissional e elegante</li>
                        <li>‚úÖ Cores modernas e casuais</li>
                        <li>‚úÖ Resumo executivo completo</li>
                        <li>‚úÖ Cabe√ßalho e rodap√© estilizados</li>
                    </ul>
                </div>
                
                <div class="card">
                    <h3><i class="fas fa-database"></i> Sa√≠da Corrigida</h3>
                    <ul style="line-height: 2;">
                        <li>‚úÖ Salvamento no banco funcionando</li>
                        <li>‚úÖ Valida√ß√µes robustas</li>
                        <li>‚úÖ Logs de debug completos</li>
                        <li>‚úÖ Atualiza√ß√£o de estoque</li>
                    </ul>
                </div>
            </div>
        </div>
        
        <!-- Se√ß√£o 2: Estrutura de Arquivos -->
        <div class="section">
            <h2><i class="fas fa-folder-tree"></i> Estrutura de Arquivos</h2>
            
            <div class="file-structure">
<span class="folder">projeto/</span>
‚îú‚îÄ‚îÄ <span class="folder">Banco/</span>
‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">conexao.php</span> (arquivo de conex√£o)
‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">movimentacao.php</span> (entrada de materiais)
‚îÇ   ‚îî‚îÄ‚îÄ <span class="file">movimentacao_saida.php</span> (sa√≠da de materiais - NOVO)
‚îú‚îÄ‚îÄ <span class="folder">js/</span>
‚îÇ   ‚îî‚îÄ‚îÄ <span class="file">almoxarifado-completo.js</span> (JavaScript atualizado)
‚îú‚îÄ‚îÄ <span class="folder">css/</span>
‚îÇ   ‚îî‚îÄ‚îÄ <span class="file">styles.css</span> (seus estilos)
‚îî‚îÄ‚îÄ <span class="file">index.html</span> (p√°gina principal)
            </div>
        </div>
        
        <!-- Se√ß√£o 3: Exemplo de Formul√°rio de Sa√≠da -->
        <div class="section">
            <h2><i class="fas fa-arrow-right"></i> Exemplo: Formul√°rio de Sa√≠da</h2>
            
            <div class="alert alert-info">
                <i class="fas fa-lightbulb"></i>
                <div>
                    Este √© um exemplo de como o formul√°rio de sa√≠da deve estar estruturado no HTML.
                </div>
            </div>
            
            <form id="new-exit-form">
                <div class="grid">
                    <div class="form-group">
                        <label for="exit-date">Data da Sa√≠da *</label>
                        <input type="date" id="exit-date" name="data_saida" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="exit-warehouse">Almoxarifado *</label>
                        <select id="exit-warehouse" name="cod_almoxarifado" required>
                            <option value="">Selecione...</option>
                            <option value="1 - Almoxarifado Central">1 - Almoxarifado Central</option>
                            <option value="2 - Almoxarifado Obra 01">2 - Almoxarifado Obra 01</option>
                        </select>
                    </div>
                </div>
                
                <div class="grid">
                    <div class="form-group">
                        <label for="exit-requester">Solicitante *</label>
                        <input type="text" id="exit-requester" name="solicitante" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="exit-authorizer">Autorizante *</label>
                        <input type="text" id="exit-authorizer" name="autorizante" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="exit-responsible">Respons√°vel *</label>
                        <input type="text" id="exit-responsible" name="responsavel" required>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="exit-service">Servi√ßo Associado</label>
                    <input type="text" id="exit-service" name="servico_associado">
                </div>
                
                <div class="form-group">
                    <label for="exit-observation">Observa√ß√£o</label>
                    <textarea id="exit-observation" name="observacao" rows="3"></textarea>
                </div>
                
                <hr style="margin: 30px 0;">
                
                <h3 style="margin-bottom: 20px;"><i class="fas fa-box"></i> Adicionar Itens</h3>
                
                <div class="grid">
                    <div class="form-group">
                        <label for="exit-item-product">Produto *</label>
                        <select id="exit-item-product">
                            <option value="">Selecione...</option>
                            <option value="1 - Cimento CP-II 50kg">1 - Cimento CP-II 50kg</option>
                            <option value="2 - Areia M√©dia m¬≥">2 - Areia M√©dia m¬≥</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="exit-item-unit">Unidade</label>
                        <input type="text" id="exit-item-unit" value="UN" readonly>
                    </div>
                    
                    <div class="form-group">
                        <label for="exit-item-qty">Quantidade *</label>
                        <input type="number" id="exit-item-qty" step="0.01" min="0.01">
                    </div>
                    
                    <div class="form-group">
                        <label for="exit-item-value">Valor Unit√°rio</label>
                        <input type="number" id="exit-item-value" step="0.01" min="0" value="0">
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="exit-item-observation">Observa√ß√£o do Item</label>
                    <input type="text" id="exit-item-observation">
                </div>
                
                <button type="button" class="btn btn-success" onclick="App.addItemToExit()">
                    <i class="fas fa-plus"></i> Adicionar Item
                </button>
                
                <table>
                    <thead>
                        <tr>
                            <th>C√≥digo</th>
                            <th>Descri√ß√£o</th>
                            <th>Origem/Destino</th>
                            <th>Local</th>
                            <th>Unidade</th>
                            <th>Quantidade</th>
                            <th>Valor Total</th>
                            <th>Respons√°vel</th>
                            <th>Solic./Autor.</th>
                            <th>Servi√ßo</th>
                            <th>Observa√ß√£o</th>
                            <th>A√ß√µes</th>
                        </tr>
                    </thead>
                    <tbody id="exit-items-table">
                        <!-- Itens ser√£o adicionados aqui dinamicamente -->
                    </tbody>
                </table>
                
                <div style="margin-top: 30px; padding: 20px; background: #f8f9fa; border-radius: 10px;">
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <div>
                            <strong>Total de Itens:</strong> <span id="exit-total-items">0</span>
                        </div>
                        <div>
                            <strong>Valor Total:</strong> <span id="exit-grand-total" style="color: #667eea; font-size: 1.5rem;">R$ 0,00</span>
                        </div>
                    </div>
                </div>
                
                <div style="margin-top: 30px; display: flex; gap: 15px;">
                    <button type="submit" class="btn btn-primary">
                        <i class="fas fa-save"></i> Salvar Sa√≠da
                    </button>
                    <button type="button" class="btn btn-danger" onclick="App.clearExitForm()">
                        <i class="fas fa-times"></i> Limpar Formul√°rio
                    </button>
                </div>
            </form>
        </div>
        
        <!-- Se√ß√£o 4: Exemplo de Exporta√ß√£o PDF -->
        <div class="section">
            <h2><i class="fas fa-file-pdf"></i> Exemplo: Exporta√ß√£o de PDF</h2>
            
            <div class="alert alert-info">
                <i class="fas fa-info-circle"></i>
                <div>
                    Exemplo de tabela de movimenta√ß√µes para exporta√ß√£o em PDF.
                </div>
            </div>
            
            <div style="margin-bottom: 20px;">
                <button class="btn btn-primary" onclick="App.exportMovementsReport('pdf')">
                    <i class="fas fa-file-pdf"></i> Exportar PDF Profissional
                </button>
                <button class="btn btn-success" onclick="App.exportMovementsReport('csv')">
                    <i class="fas fa-file-csv"></i> Exportar CSV
                </button>
            </div>
            
            <table id="movimentacoes-table">
                <thead>
                    <tr>
                        <th>Data/Hora</th>
                        <th>Produto</th>
                        <th>Tipo</th>
                        <th>NF / OF</th>
                        <th>Quantidade</th>
                        <th>Valor</th>
                        <th>Origem/Destino</th>
                        <th>Local</th>
                        <th>Respons√°vel</th>
                        <th>Solic./Autor.</th>
                        <th>Servi√ßo</th>
                        <th>A√ß√µes</th>
                    </tr>
                </thead>
                <tbody id="movimentacoes-table">
                    <tr>
                        <td>15/01/2024 10:30</td>
                        <td>Cimento CP-II 50kg</td>
                        <td>S</td>
                        <td>-</td>
                        <td>100</td>
                        <td>R$ 3.500,00</td>
                        <td>Obra Residencial</td>
                        <td>Galp√£o A</td>
                        <td>Jo√£o Silva</td>
                        <td>Maria Santos / Pedro Costa</td>
                        <td>Funda√ß√£o</td>
                        <td><button class="btn btn-sm btn-primary"><i class="fas fa-eye"></i></button></td>
                    </tr>
                    <tr>
                        <td>14/01/2024 14:15</td>
                        <td>Areia M√©dia m¬≥</td>
                        <td>E</td>
                        <td>NF-12345</td>
                        <td>50</td>
                        <td>R$ 7.500,00</td>
                        <td>Fornecedor ABC</td>
                        <td>Almoxarifado Central</td>
                        <td>Carlos Oliveira</td>
                        <td>-</td>
                        <td>-</td>
                        <td><button class="btn btn-sm btn-primary"><i class="fas fa-eye"></i></button></td>
                    </tr>
                </tbody>
            </table>
        </div>
        
        <!-- Se√ß√£o 5: Instru√ß√µes de Uso -->
        <div class="section">
            <h2><i class="fas fa-book"></i> Instru√ß√µes de Uso</h2>
            
            <div class="alert alert-warning">
                <i class="fas fa-exclamation-triangle"></i>
                <div>
                    <strong>Importante:</strong> Siga os passos abaixo para implementar corretamente.
                </div>
            </div>
            
            <ol style="line-height: 2.5; font-size: 1.1rem;">
                <li>
                    <strong>Substitua o JavaScript:</strong> Use o arquivo <code>almoxarifado-completo.js</code>
                </li>
                <li>
                    <strong>Configure o Backend:</strong> Copie <code>movimentacao_saida.php</code> para <code>../Banco/</code>
                </li>
                <li>
                    <strong>Configure a Conex√£o:</strong> Ajuste <code>conexao.php</code> com suas credenciais
                </li>
                <li>
                    <strong>Crie as Tabelas:</strong> Execute o script <code>database_schema.sql</code>
                </li>
                <li>
                    <strong>Teste o Sistema:</strong> Fa√ßa uma sa√≠da de teste e verifique os logs
                </li>
                <li>
                    <strong>Exporte PDF:</strong> Teste a exporta√ß√£o e veja o novo visual
                </li>
            </ol>
        </div>
        
        <!-- Se√ß√£o 6: Verifica√ß√£o -->
        <div class="section">
            <h2><i class="fas fa-check-double"></i> Checklist de Verifica√ß√£o</h2>
            
            <div class="grid">
                <div class="card">
                    <h3>Frontend</h3>
                    <ul style="line-height: 2;">
                        <li>‚òê JavaScript atualizado</li>
                        <li>‚òê jsPDF carregado</li>
                        <li>‚òê Formul√°rios com IDs corretos</li>
                        <li>‚òê Console sem erros</li>
                    </ul>
                </div>
                
                <div class="card">
                    <h3>Backend</h3>
                    <ul style="line-height: 2;">
                        <li>‚òê PHP configurado</li>
                        <li>‚òê Conex√£o funcionando</li>
                        <li>‚òê Tabelas criadas</li>
                        <li>‚òê Logs habilitados</li>
                    </ul>
                </div>
                
                <div class="card">
                    <h3>Testes</h3>
                    <ul style="line-height: 2;">
                        <li>‚òê Entrada funcionando</li>
                        <li>‚òê Sa√≠da salvando</li>
                        <li>‚òê PDF gerando</li>
                        <li>‚òê Estoque atualizando</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Incluir o JavaScript atualizado -->
    <script src="almoxarifado-completo.js"></script>
    
    <script>
        // Definir data padr√£o
        document.getElementById('exit-date').value = new Date().toISOString().split('T')[0];
        
        // Exemplo de como o sistema funciona
        console.log('%cüéâ Sistema de Almoxarifado HECA - Vers√£o Atualizada', 'color: #667eea; font-size: 20px; font-weight: bold;');
        console.log('%c‚úÖ PDF Profissional e Elegante', 'color: #11998e; font-size: 14px;');
        console.log('%c‚úÖ Sa√≠da de Materiais Corrigida', 'color: #11998e; font-size: 14px;');
        console.log('%cüìö Leia o arquivo ALTERACOES_REALIZADAS.md para mais detalhes', 'color: #f39c12; font-size: 14px;');
    </script>
</body>
</html>
